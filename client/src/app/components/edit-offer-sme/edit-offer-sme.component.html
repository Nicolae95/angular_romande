	<!-- modal medium -->
    <div class="modal fade" id="editSME" tabindex="-1" role="dialog" aria-labelledby="mediumModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-lg" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h4 class="modal-title" *ngIf="hideModal">Edit SME Offre</h4>
                        <h4 class="modal-title" *ngIf="!hideModal">Paramétrer une Nouvelle Offre</h4>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                   
                    <div class="modal-body" *ngIf="!hideModal">   
                  
                            <!--Row 1-->
                            <div class="row">
                                <div class="col-md-4 mb-2">
                                    <div class="cat-head">Client ID</div>
                                    <div class="form-control">{{offer.company}}</div>              
                                </div>
        
                                <div class="col-md-4">
                                    <div class="cat-head">Vendeur ID</div>
                                    <div class="form-control">{{currentUser.id}}</div>
                                </div>
        
                                <div class="col-md-4 mb-2">
                                    <div class="cat-head">Type d'Offre</div>
                                    <div class="form-control">{{offer.offer_type}}</div>
                                </div>
                            </div>
        
                            <!--Row 2-->
                            <div class="row">
                                <div class="col-md-4 mb-2">
                                    <div class="cat-head">Prix(HC/HP ou unique)</div>
                                    <div *ngIf="offer.shedules.length==2" class="form-control">HC/HP</div>      
                                    <div *ngIf="offer.shedules.length==1" class="form-control">Unique</div>                          
                                </div>
        
                                <div class="col-md-8 mb-2">
                                    <div class="cat-head">HP/HC</div>
                                    <div class="form-control">HP (08:00-19:00), HC (20:00-07:00)</div>
                                </div>
                            </div>
        
                            <!--Row 3-->
                            <div class="row">
                                <div class="col-md-3 mb-2">
                                    <div class="cat-head">Type d'Offre</div>
                                    <div class="form-control">{{offer.second_type}}</div>                        
                                </div>
                                <div class="col-md-3">
                                    <div class="cat-head">Devise</div>
                                    <div class="form-control">{{offer.unit}}</div>
                                </div>
                     
                                <div class="col-md-3 mb-2">
                                    <div class="cat-head">Nom de l'offre</div>
                                    <div class="form-control">{{offer.name}}</div>
                                </div>
                                <!-- Nr de opurtunitate -->
                                <div class="col-md-3 mb-2">
                                    <div class="cat-head">RE Nr. Opportunité</div>
                                    <div class="form-control">{{offer.nr_opportunite}}</div>
                                </div>
                            </div>
        
                            <!--Row 5--> 
                            <div class="row">
                                <div class="col-md-3 mb-2">
                                    <div class="cat-head">Date début</div>
                                    <div class="form-control">{{offer.date_debut | slice:0:10}}</div>
                                </div>
        
                                <div class="col-md-2 mb-2">
                                    <div class="cat-head">hh:mm</div>
                                    <div class="form-control">{{offer.date_debut | slice:11:16}}</div>
                                </div>
        
                                <div class="col-md-3 mb-2">
                                    <div class="cat-head">Date fin</div>
                                    <div class="form-control">{{offer.expiration_date | slice:0:10}}</div>
                                </div>
        
                                <div class="col-md-2 mb-2">
                                    <div class="cat-head">hh:mm</div>
                                    <div class="form-control">{{offer.date_fin | slice:11:16}}</div>
                                </div>
        
                                <div class="col-md-2 mb-2">
                                    <div class="cat-head" style="width: 113px;">Durée jj&nbsp;hh:mm</div>
                                    <div class="form-control" style="display: inline-flex;">
                                        <div *ngIf="duree._data.days > 9">{{duree._data.days}}&nbsp;</div>
                                        <div *ngIf="duree._data.days <= 9">0{{duree._data.days}}&nbsp;</div>
    
                                        <div *ngIf="duree._data.hours > 9">{{duree._data.hours}}:</div> 
                                        <div *ngIf="duree._data.hours <= 9">0{{duree._data.hours}}:</div> 
    
                                        <div *ngIf="duree._data.minutes > 9">{{duree._data.minutes}}</div>
                                        <div *ngIf="duree._data.minutes <= 9">0{{duree._data.minutes}}</div>
                                    </div>
                                </div>
                            </div>
        
                            <!--Row 6-->
                            <div class="row">
                                <div class="col-md-6 mb-2">
                                    <div class="cat-head">CC Profil Historique ou CC type</div>
                                    <div class="form-control">{{sitename}}</div>
                                </div>
                                <!-- Nr de opurtunitate -->
                                <div class="col-md-6 mb-2">
                                    <div class="cat-head">Volume annuel total&nbsp;<span style="color: #7f7f7f;"> kWh</span> </div>
                                    <div class="form-control">{{sitevolume}}</div>
                                </div>
                            </div>
        
                            <!--Row 7-->
                            <div class="row">                       
                                <div class="col-md-12 mb-2">
                                    <div class="cat-head">Années proposées</div>
                                    <div class="form-control">{{offer.years}}</div>
                                </div>
                            </div>
        
                             <!--Row 8-->
                             <div class="row">
                                <div class="col-md-6 mb-2" *ngIf="offer.second_type != 'prolongation'">
                                    <div class="cat-head">Distributeurs zone REC</div>
                                    <div class="form-control">{{offer.grd_name}}</div>
                                </div>
                                <!-- Nr de opurtunitate -->
                                <div [ngClass]="{'col-md-12': offer.second_type == 'prolongation',
                                                 'col-md-6':  offer.second_type != 'prolongation'}">
                                    <div class="cat-head">Commentaires</div>
                                    <div class="form-control" style="min-height: 38px;">{{offer.comment}}</div>
                                </div>
                            </div>
        
                             <!--Row 9 - fileUpload -->
     

                </div>
                <div class="modal-body" *ngIf="hideModal&&result">
                        <div>
                            <h4 style="display: inline-flex;">Cette offre demande la confirmation du&nbsp;
                                <div *ngIf="result.fonction == 1">Account Manager</div>
                                <div *ngIf="result.fonction == 2">Responsable Marchés</div>
                                <div *ngIf="result.fonction == 3">Directeur</div>
                                <div *ngIf="result.fonction == 4">CEO</div>
                                <div *ngIf="result.fonction == 5">Custom</div>
                            </h4>
                        <h4 style="margin-bottom: 20px;">Volumétrie, GWh: {{result.volumetrie | number : '1.2-2'}}</h4>
                        <h4 style="margin-bottom: 20px;">Marge, %: {{result.marge - 100 | number : '1.2-2' }}</h4>
                        
                        <h4>Souhaitez-vous créer l'offre et demander sa confirmation?</h4><br>
                        
                        <div *ngIf="!loading">
                            <button class="pull-right btn btn-danger" (click)="hideModal = false;close();" data-dismiss="modal"> Annuler </button>
                            <button class="pull-right btn btn-primary" style="margin-right: 10px;" (click)="mailfunction()">Oui</button><br><br><br>
                        </div>
                        <div *ngIf="loading">
                            <button class="pull-right btn btn-danger" [disabled]="true"> Annuler </button>
                            <button class="pull-right btn btn-primary" style="margin-right: 10px;"  [disabled]="true">
                                    <div class="lds-ring"><div></div><div></div><div></div><div></div></div>
                                    Oui 
                            </button>
                        </div>

                        
                        </div>
                    </div>
                    <div class="modal-footer"  *ngIf="!hideModal">
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                        <button type="button" class="btn btn-warning" *ngIf="currentUser.role == 1" (click)="offerSendSmeMail();" [disabled]="loadingMail">Renvoyer email à TP, AGE et MO</button>
                    </div>
                </div>
            </div>
        </div>
        <!-- end modal medium -->

        <!-- <div class="col-md-12" style="margin-bottom: 10px;" *ngIf="currentUser.role == 1">
                <button class="btn btn-sm btn-warning pull-right" 
                        style="width: calc(50% - 15px);"
                        type="button" (click)="offerSendSmeMail();"
                        [disabled]="loadingMail">
                    
                </button>
            </div> -->
